#!/bin/bash
# XMonad startup script with automatic monitor detection

# Ensure user bin is in PATH for dmenu
export PATH="$HOME/bin:$PATH"

# Load Xresources
[ -f ~/.Xresources ] && xrdb -merge ~/.Xresources

# Set keyboard options
setxkbmap -option ctrl:nocaps

# Detect and configure monitors with autorandr
# This will automatically apply the best matching profile
if command -v autorandr > /dev/null 2>&1; then
    autorandr --change --default laptop
fi

# Start XMonad
exec xmonad